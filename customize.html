<body>
  <h1 id="greeting"></h1>
  <form id="customization-form">
    <label>Accommodation:
      <select name="accommodation">
        <option value="hut-to-hut">Hut-to-hut</option>
        <option value="camping">Camping</option>
        <option value="hotel">Hotel</option>
      </select>
    </label>

    <label>Technical Requirements:
      <select name="technical">
        <option value="none">None</option>
        <option value="basic">Basic climbing skills</option>
        <option value="advanced">Advanced mountaineering</option>
      </select>
    </label>

    <label>Altitude Preference:
      <select name="altitude">
        <option value="low">Below 2000m</option>
        <option value="mid">2000â€“3000m</option>
        <option value="high">Above 3000m</option>
      </select>
    </label>

    <label>Difficulty:
      <select name="difficulty">
        <option value="easy">Easy</option>
        <option value="moderate">Moderate</option>
        <option value="challenging">Challenging</option>
      </select>
    </label>

    <label>Additional Comments:
      <textarea name="comments" placeholder="Any specific needs or preferences?"></textarea>
    </label>

    <button type="submit">Generate Itinerary</button>
  </form>

  <div id="output"></div>

  <script>
    const location = localStorage.getItem('userLocation');
    document.getElementById('greeting').innerText = `${location} is a great idea! Tell us more about your ideal trekking experience.`;

    document.getElementById('customization-form').addEventListener('submit', async function(e) {
      e.preventDefault();

      const formData = new FormData(e.target);
      const data = {
        location,
        accommodation: formData.get('accommodation'),
        technical: formData.get('technical'),
        altitude: formData.get('altitude'),
        difficulty: formData.get('difficulty'),
        comments: formData.get('comments')
      };

      const response = await fetch('https://your-api-url.com/api/generate', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      });

      const result = await response.json();
      document.getElementById('output').innerHTML = `<pre>${result.reply}</pre>`;
    });
  </script>
</body>
