<!-- Replace the relevant sections in your customize.html with this updated structure -->

<!-- Enhanced Hero Header -->
<header class="hero-enhanced">
  <div class="hero-bg" style="background-image: url('Images/alps.jpg');"></div>
  <div class="hero-content-enhanced">
    <h1>Create Your Perfect Trek</h1>
    <h2 id="greeting">Design a personalized adventure tailored to your preferences</h2>
  </div>
</header>

<!-- Main Content with Enhanced Styling -->
<main class="max-w-5xl mx-auto p-6">
  <!-- Filters Section -->
  <div class="filters-container">
    <form id="customization-form">
      <!-- Accommodation -->
      <div class="filter-group">
        <h3>🏕️ Accommodation Type</h3>
        <div class="flex gap-3">
          <button type="button" class="enhanced-filter-btn" data-category="accommodation" data-value="Camping">Camping</button>
          <button type="button" class="enhanced-filter-btn" data-category="accommodation" data-value="Hut-to-Hut">Hut-to-Hut</button>
          <button type="button" class="enhanced-filter-btn" data-category="accommodation" data-value="Luxury Lodges">Luxury Lodges</button>
        </div>
      </div>

      <!-- Difficulty -->
      <div class="filter-group">
        <h3>🏔️ Difficulty Level</h3>
        <div class="flex gap-3">
          <button type="button" class="enhanced-filter-btn" data-category="difficulty" data-value="Easy">Easy</button>
          <button type="button" class="enhanced-filter-btn active" data-category="difficulty" data-value="Moderate">Moderate</button>
          <button type="button" class="enhanced-filter-btn" data-category="difficulty" data-value="Challenging">Challenging</button>
        </div>
      </div>

      <!-- Technical -->
      <div class="filter-group">
        <h3>🧗 Technical Requirements</h3>
        <div class="flex gap-3">
          <button type="button" class="enhanced-filter-btn active" data-category="technical" data-value="None">None</button>
          <button type="button" class="enhanced-filter-btn" data-category="technical" data-value="Scrambling">Scrambling</button>
          <button type="button" class="enhanced-filter-btn" data-category="technical" data-value="Mountaineering">Mountaineering</button>
        </div>
      </div>
    </form>
  </div>

  <!-- Comments Section -->
  <div class="comments-container">
    <label for="comments">Describe Your Dream Trek</label>
    <textarea 
      id="comments" 
      name="comments" 
      rows="4" 
      placeholder="e.g., 8-day hike in Peru with scenic views, not too steep, local food stops, stay in eco-lodges..."
    ></textarea>
  </div>

  <!-- Generate Button -->
  <button type="submit" form="customization-form" class="generate-btn">
    <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z" />
    </svg>
    Generate Custom Itinerary
  </button>

  <!-- Results Container -->
  <div id="itinerary-cards"></div>
</main>

<!-- Enhanced Loading Display -->
<script>
// Update the showProgressiveLoading function to use the new loading card style
function showProgressiveLoadingEnhanced(container, location) {
  const stages = [
    { 
      message: "🗺️ Analyzing your destination...", 
      tip: getLocationTip(location),
      duration: 4000
    },
    { 
      message: "🥾 Planning optimal routes...", 
      tip: "The best trekking routes balance scenic beauty with safety.",
      duration: 5000
    },
    { 
      message: "🏔️ Selecting scenic highlights...", 
      tip: "Dawn and dusk provide the most dramatic mountain lighting.",
      duration: 4500
    },
    { 
      message: "🎒 Customizing your experience...", 
      tip: "Every 1000m of elevation gain requires proper acclimatization.",
      duration: 4000
    },
    { 
      message: "📋 Finalizing your itinerary...", 
      tip: "Leave no trace principles help preserve these landscapes.",
      duration: 3000
    }
  ];
  
  let currentStage = 0;
  let progress = 0;
  
  container.innerHTML = `
    <div class="loading-card">
      <div class="loading-spinner"></div>
      <h3 id="loading-message" style="font-size: 1.3em; color: var(--text-dark); margin-bottom: 15px;">
        ${stages[0].message}
      </h3>
      <p id="loading-tip" style="color: var(--text-light); max-width: 500px; margin: 0 auto;">
        ${stages[0].tip}
      </p>
    </div>
  `;
  
  // Simplified loading animation
  const totalDuration = stages.reduce((sum, stage) => sum + stage.duration, 0);
  let elapsed = 0;
  
  const interval = setInterval(() => {
    elapsed += 100;
    progress = (elapsed / totalDuration) * 100;
    
    // Update stage
    let cumulative = 0;
    for (let i = 0; i < stages.length; i++) {
      cumulative += stages[i].duration;
      if (elapsed < cumulative) {
        if (i !== currentStage) {
          currentStage = i;
          document.getElementById('loading-message').textContent = stages[i].message;
          document.getElementById('loading-tip').textContent = stages[i].tip;
        }
        break;
      }
    }
    
    if (progress >= 100) {
      clearInterval(interval);
    }
  }, 100);
  
  container.dataset.loadingInterval = interval;
}

// Update filter button event listeners to use new class
document.addEventListener('DOMContentLoaded', () => {
  document.querySelectorAll('.enhanced-filter-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const group = btn.dataset.category;
      document.querySelectorAll(`.enhanced-filter-btn[data-category="${group}"]`).forEach(el => {
        el.classList.remove('active');
      });
      btn.classList.add('active');
    });
  });
});
</script>